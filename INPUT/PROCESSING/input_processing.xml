<?xml version='1.0' encoding='UTF-8'?>

<processing_parameters>

    <!--print screen output and plot-->
    <verbose>1</verbose>
    <plot>1</plot>

    <!--*************************************************************************************************-->
    <!--input and output directories-->
    <!--*************************************************************************************************-->

    <directories>
        <!--list of input directories separated by spaces-->
        <indirs>./../../sandbox/TestIC/Gdata</indirs>
        <!--output directory for processed data-->
        <outdir>./../../sandbox/TestIC/Gproc</outdir>
    </directories>

    <!--*************************************************************************************************-->
    <!--quality checks-->
    <!--*************************************************************************************************-->
   
    <quality>
        <min_length_in_sec>65536</min_length_in_sec>
    </quality>

    <!--*************************************************************************************************-->
    <!--preprocessing-->
    <!--*************************************************************************************************-->

    <!--preprocessing on individual seismograms-->
    <!--The order corresponds to the actual order of execution-->
    <processing>
        <!--split traces into shorter segments-->
        <split>
            <doit>1</doit>
            <length_in_sec>65536</length_in_sec>
        </split>
        <!--trim to nearest second-->
        <trim>1</trim>
        <!--remove linear trend-->
        <detrend>1</detrend>
        <!--remove mean-->
        <demean>1</demean>
        <!--taper edges of seismogram for better filtering-->
        <taper>
            <doit>1</doit>
            <taper_width>0.02</taper_width>
        </taper>
        
        
        <!--bandpass filter before response removal-->
        <bandpass_1>
            <doit>1</doit>
            <f_min>0.0001</f_min>
            <f_max>0.1</f_max>
            <corners>4</corners>
        </bandpass_1>
        
        
        <!--downsampling-->
        <!--A lowpass filter is hardcoded into downsampling. It has a corner frequency of one quarter of the new sampling frequency.-->
        <decimation>
            <doit>1</doit>
            <new_sampling_rate>1.0</new_sampling_rate>
        </decimation>
        
        <!--remove instrument response-->
        <instrument_response>
            <doit>1</doit>
            <unit>DIS</unit>
            <respdir>./../../sandbox/TestIC/Gresp</respdir>
        </instrument_response>
        <!--bandpass after response removal-->
        <bandpass_2>
            <doit>1</doit>
            <f_min>0.0001</f_min>
            <f_max>0.05</f_max>
            <corners>4</corners>
        </bandpass_2>
    </processing>


    <!--*************************************************************************************************-->
    <!--normalisation-->
    <!--*************************************************************************************************-->

    <!--time- and frequency-domain normalisations-->
    <normalisation>
        <!--onebit normalization-->
        <onebit>0</onebit>
        <!--clip at rms of the trace-->
        <rms_clipping>0</rms_clipping>
        <!--running average normalisation-->
        <ram_normal>
            <doit>0</doit>
            <!--window length in seconds-->
            <window_length>10.0</window_length>
        </ram_normal>
        <!--iterative clipping at rms multiple-->
        <waterlevel>
            <doit>0</doit>
            <!--multiple of the rms above which to clip-->
            <level>2.0</level>
        </waterlevel>
        <!--spectral whitening-->
        <whitening>
            <doit>0</doit>
            <!--ObsPy: number of past/future values to calculate moving average. Set to 1 for no smoothing.-->
            <smoothing>5</smoothing>
        </whitening>
    </normalisation>


    <!--*************************************************************************************************-->
    <!--storage-->
    <!--*************************************************************************************************-->

    <!--rename files to network.station.location.channel_starttime_endtime_samplingrate_format-->
    <rename>1</rename>
    <!--save preprocessed data-->
    <saveprep>1</saveprep>
    
    
    
</processing_parameters>
